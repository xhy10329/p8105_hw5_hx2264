---
title: "p8105_hw5_hx2264"
author: "Hongyao Xie"
date: "November 3, 2018"
output: github_document
---

## Problem 1

```{r}
library(tidyverse)
```

```{r}
files <- list.files(path = "./data/", pattern = "*.csv")

read_file <- function(x) {
  read.csv(paste0("./data/", x))
}

df <- files %>% 
  map(read_file) %>%
  reduce(rbind) %>% 
  janitor::clean_names()
  
df$arm <- c(rep("con",10), rep("exp",10))
df$id <- c(rep(1:10,2))
df$arm_id = paste(df$arm, df$id, sep = "_")

df <- df %>%
  gather(key = week, value = data, week_1:week_8)

df %>% 
  group_by(arm_id) %>% 
  ggplot(aes(x = week, y = data, color = arm_id)) + 
    geom_line(aes(colour = arm_id, group = arm_id, linetype = arm)) +
    theme(legend.position = "bottom")
```

